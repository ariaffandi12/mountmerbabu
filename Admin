-- Mount Merbabu GUI Script - ADMIN/DEVELOPER EDITION
-- Features: Auto Climb, Teleport, Speed Hack, Fly Mode, Auto Collect + ADMIN TOOLS
-- Version: 1.1 - Professional Mountain Climbing Assistant + Developer Mode

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local Lighting = game:GetService("Lighting")
local SoundService = game:GetService("SoundService")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local RootPart = Character:WaitForChild("HumanoidRootPart")

-- Create GUI Elements
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TopBar = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local SubTitle = Instance.new("TextLabel")
local MinimizeButton = Instance.new("TextButton")
local CloseButton = Instance.new("TextButton")
local AdminToggleButton = Instance.new("TextButton")
local ContentFrame = Instance.new("ScrollingFrame")
local MinimizedFrame = Instance.new("Frame")
local RestoreButton = Instance.new("TextButton")

-- Variables
local autoClimbEnabled = false
local flyModeEnabled = false
local speedHackEnabled = false
local autoCollectEnabled = false
local espEnabled = false
local infiniteStaminaEnabled = false
local weatherControlEnabled = false
local autoQuestEnabled = false

-- ADMIN/DEVELOPER VARIABLES
local adminModeEnabled = false
local godModeEnabled = false
local noclipEnabled = false
local invisibleModeEnabled = false
local serverControlEnabled = false
local advancedESPEnabled = false
local timeManipulationEnabled = false

local originalWalkSpeed = 16
local originalJumpPower = 50
local flySpeed = 50
local climbSpeed = 25

-- Connections
local flyConnection = nil
local autoClimbConnection = nil
local autoCollectConnection = nil
local staminaConnection = nil
local noclipConnection = nil
local godModeConnection = nil

-- Setup ScreenGui
ScreenGui.Name = "MountMerbabuGUI_Admin"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- Main Frame Setup
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 25, 35)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.25, 0, 0.1, 0)
MainFrame.Size = UDim2.new(0, 450, 0, 650)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Visible = true

-- Add gradient background
local MainGradient = Instance.new("UIGradient")
MainGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(20, 30, 45)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(10, 20, 30))
}
MainGradient.Rotation = 45
MainGradient.Parent = MainFrame

-- Add shadow effect
local MainShadow = Instance.new("Frame")
MainShadow.Name = "Shadow"
MainShadow.Parent = ScreenGui
MainShadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainShadow.BackgroundTransparency = 0.7
MainShadow.BorderSizePixel = 0
MainShadow.Position = UDim2.new(0.25, 5, 0.1, 5)
MainShadow.Size = UDim2.new(0, 450, 0, 650)
MainShadow.ZIndex = -1

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 16)
MainCorner.Parent = MainFrame

local ShadowCorner = Instance.new("UICorner")
ShadowCorner.CornerRadius = UDim.new(0, 16)
ShadowCorner.Parent = MainShadow

-- Enhanced Dragging
local function makeDraggable(frame)
    local dragging = false
    local dragStart = nil
    local startPos = nil
    
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
        end
    end)
    
    frame.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            if MainShadow then
                MainShadow.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X + 5, startPos.Y.Scale, startPos.Y.Offset + delta.Y + 5)
            end
        end
    end)
    
    frame.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
end

makeDraggable(MainFrame)

-- Modern Top Bar
TopBar.Name = "TopBar"
TopBar.Parent = MainFrame
TopBar.BackgroundColor3 = Color3.fromRGB(25, 40, 55)
TopBar.BorderSizePixel = 0
TopBar.Size = UDim2.new(1, 0, 0, 70)

local TopBarGradient = Instance.new("UIGradient")
TopBarGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 45, 60)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 35, 50))
}
TopBarGradient.Rotation = 90
TopBarGradient.Parent = TopBar

local TopCorner = Instance.new("UICorner")
TopCorner.CornerRadius = UDim.new(0, 16)
TopCorner.Parent = TopBar

-- Modern Title
TitleLabel.Name = "TitleLabel"
TitleLabel.Parent = TopBar
TitleLabel.BackgroundTransparency = 1
TitleLabel.Position = UDim2.new(0, 20, 0, 5)
TitleLabel.Size = UDim2.new(1, -150, 0, 25)
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.Text = "üèîÔ∏è MOUNT MERBABU GUI"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 16
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left

SubTitle.Name = "SubTitle"
SubTitle.Parent = TopBar
SubTitle.BackgroundTransparency = 1
SubTitle.Position = UDim2.new(0, 20, 0, 30)
SubTitle.Size = UDim2.new(1, -150, 0, 20)
SubTitle.Font = Enum.Font.Gotham
SubTitle.Text = "v1.1 ‚Ä¢ Admin/Developer Edition"
SubTitle.TextColor3 = Color3.fromRGB(150, 180, 200)
SubTitle.TextSize = 11
SubTitle.TextXAlignment = Enum.TextXAlignment.Left

-- Admin Mode Indicator
local AdminIndicator = Instance.new("TextLabel")
AdminIndicator.Name = "AdminIndicator"
AdminIndicator.Parent = TopBar
AdminIndicator.BackgroundTransparency = 1
AdminIndicator.Position = UDim2.new(0, 20, 0, 50)
AdminIndicator.Size = UDim2.new(1, -150, 0, 15)
AdminIndicator.Font = Enum.Font.GothamBold
AdminIndicator.Text = "üë§ USER MODE"
AdminIndicator.TextColor3 = Color3.fromRGB(100, 200, 255)
AdminIndicator.TextSize = 10
AdminIndicator.TextXAlignment = Enum.TextXAlignment.Left

-- Admin Toggle Button
AdminToggleButton.Name = "AdminToggleButton"
AdminToggleButton.Parent = TopBar
AdminToggleButton.BackgroundColor3 = Color3.fromRGB(255, 87, 34)
AdminToggleButton.BorderSizePixel = 0
AdminToggleButton.Position = UDim2.new(1, -115, 0, 10)
AdminToggleButton.Size = UDim2.new(0, 30, 0, 25)
AdminToggleButton.Font = Enum.Font.GothamBold
AdminToggleButton.Text = "üëë"
AdminToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
AdminToggleButton.TextSize = 12

local AdminToggleCorner = Instance.new("UICorner")
AdminToggleCorner.CornerRadius = UDim.new(0, 6)
AdminToggleCorner.Parent = AdminToggleButton

-- Modern Control Buttons
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Parent = TopBar
MinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 193, 7)
MinimizeButton.BorderSizePixel = 0
MinimizeButton.Position = UDim2.new(1, -80, 0, 10)
MinimizeButton.Size = UDim2.new(0, 30, 0, 25)
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Text = "‚àí"
MinimizeButton.TextColor3 = Color3.fromRGB(0, 0, 0)
MinimizeButton.TextSize = 16

local MinCorner = Instance.new("UICorner")
MinCorner.CornerRadius = UDim.new(0, 6)
MinCorner.Parent = MinimizeButton

CloseButton.Name = "CloseButton"
CloseButton.Parent = TopBar
CloseButton.BackgroundColor3 = Color3.fromRGB(220, 53, 69)
CloseButton.BorderSizePixel = 0
CloseButton.Position = UDim2.new(1, -45, 0, 10)
CloseButton.Size = UDim2.new(0, 30, 0, 25)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Text = "‚úï"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 12

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 6)
CloseCorner.Parent = CloseButton

-- SCROLLABLE Content Frame
ContentFrame.Name = "ContentFrame"
ContentFrame.Parent = MainFrame
ContentFrame.BackgroundTransparency = 1
ContentFrame.BorderSizePixel = 0
ContentFrame.Position = UDim2.new(0, 0, 0, 70)
ContentFrame.Size = UDim2.new(1, 0, 1, -70)
ContentFrame.ScrollBarThickness = 8
ContentFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 120, 140)
ContentFrame.CanvasSize = UDim2.new(0, 0, 0, 1600) -- Increased for admin sections
ContentFrame.ScrollingDirection = Enum.ScrollingDirection.Y

-- Content Layout
local ContentLayout = Instance.new("UIListLayout")
ContentLayout.Parent = ContentFrame
ContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
ContentLayout.Padding = UDim.new(0, 15)
ContentLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

-- Function to create modern sections
local function createSection(name, title, layoutOrder, height, adminOnly)
    local section = Instance.new("Frame")
    section.Name = name
    section.Parent = ContentFrame
    section.BackgroundColor3 = adminOnly and Color3.fromRGB(45, 25, 25) or Color3.fromRGB(25, 35, 50)
    section.BorderSizePixel = 0
    section.Size = UDim2.new(1, -30, 0, height or 120)
    section.LayoutOrder = layoutOrder
    section.Visible = adminOnly and false or true -- Hide admin sections initially
    
    local sectionGradient = Instance.new("UIGradient")
    if adminOnly then
        sectionGradient.Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, Color3.fromRGB(60, 30, 30)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 20, 20))
        }
    else
        sectionGradient.Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 40, 55)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 30, 45))
        }
    end
    sectionGradient.Rotation = 45
    sectionGradient.Parent = section
    
    local sectionCorner = Instance.new("UICorner")
    sectionCorner.CornerRadius = UDim.new(0, 12)
    sectionCorner.Parent = section
    
    local sectionTitle = Instance.new("TextLabel")
    sectionTitle.Name = "Title"
    sectionTitle.Parent = section
    sectionTitle.BackgroundTransparency = 1
    sectionTitle.Position = UDim2.new(0, 20, 0, 10)
    sectionTitle.Size = UDim2.new(1, -40, 0, 25)
    sectionTitle.Font = Enum.Font.GothamBold
    sectionTitle.Text = title
    sectionTitle.TextColor3 = adminOnly and Color3.fromRGB(255, 100, 100) or Color3.fromRGB(255, 255, 255)
    sectionTitle.TextSize = 14
    sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
    
    local sectionGrid = Instance.new("Frame")
    sectionGrid.Name = "Grid"
    sectionGrid.Parent = section
    sectionGrid.BackgroundTransparency = 1
    sectionGrid.Position = UDim2.new(0, 15, 0, 40)
    sectionGrid.Size = UDim2.new(1, -30, 1, -50)
    
    local gridLayout = Instance.new("UIGridLayout")
    gridLayout.Parent = sectionGrid
    gridLayout.CellSize = UDim2.new(0, 185, 0, 35)
    gridLayout.CellPadding = UDim2.new(0, 10, 0, 8)
    gridLayout.SortOrder = Enum.SortOrder.LayoutOrder
    
    return section, sectionGrid
end

-- Function to create modern buttons
local function createModernButton(name, parent, text, color, layoutOrder, adminOnly)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Parent = parent
    button.BackgroundColor3 = color
    button.BorderSizePixel = 0
    button.Font = Enum.Font.GothamSemibold
    button.Text = text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 11
    button.TextWrapped = true
    button.LayoutOrder = layoutOrder
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 8)
    buttonCorner.Parent = button
    
    local buttonGradient = Instance.new("UIGradient")
    buttonGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.new(math.min(color.R * 1.2, 1), math.min(color.G * 1.2, 1), math.min(color.B * 1.2, 1))),
        ColorSequenceKeypoint.new(1, color)
    }
    buttonGradient.Rotation = 90
    buttonGradient.Parent = button
    
    -- Admin button special effects
    if adminOnly then
        local adminGlow = Instance.new("UIStroke")
        adminGlow.Color = Color3.fromRGB(255, 0, 0)
        adminGlow.Thickness = 1
        adminGlow.Transparency = 0.5
        adminGlow.Parent = button
    end
    
    -- Hover effect
    button.MouseEnter:Connect(function()
        local tween = TweenService:Create(button, TweenInfo.new(0.2), {
            BackgroundColor3 = Color3.new(math.min(color.R * 1.3, 1), math.min(color.G * 1.3, 1), math.min(color.B * 1.3, 1))
        })
        tween:Play()
    end)
    
    button.MouseLeave:Connect(function()
        local tween = TweenService:Create(button, TweenInfo.new(0.2), {BackgroundColor3 = color})
        tween:Play()
    end)
    
    return button
end

-- Create All Sections (Regular + Admin)
local movementSection, movementGrid = createSection("MovementSection", "üö∂ MOVEMENT & CLIMBING", 1, 140, false)
local teleportSection, teleportGrid = createSection("TeleportSection", "üìç TELEPORT LOCATIONS", 2, 140, false)
local utilitySection, utilityGrid = createSection("UtilitySection", "üõ†Ô∏è UTILITY FEATURES", 3, 140, false)
local visualSection, visualGrid = createSection("VisualSection", "üëÅÔ∏è VISUAL ENHANCEMENTS", 4, 100, false)

-- ADMIN SECTIONS
local adminControlSection, adminControlGrid = createSection("AdminControlSection", "üëë ADMIN CONTROLS", 5, 140, true)
local playerManagementSection, playerManagementGrid = createSection("PlayerManagementSection", "üë• PLAYER MANAGEMENT", 6, 140, true)
local serverControlSection, serverControlGrid = createSection("ServerControlSection", "üñ•Ô∏è SERVER CONTROLS", 7, 140, true)
local advancedSection, advancedGrid = createSection("AdvancedSection", "‚ö° ADVANCED FEATURES", 8, 140, true)

local statusSection, statusGrid = createSection("StatusSection", "üìä STATUS & INFO", 9, 100, false)

-- Create Regular Movement Buttons
local autoClimbBtn = createModernButton("AutoClimb", movementGrid, "üßó Auto Climb: OFF", Color3.fromRGB(34, 139, 34), 1, false)
local flyModeBtn = createModernButton("FlyMode", movementGrid, "‚úàÔ∏è Fly Mode: OFF", Color3.fromRGB(30, 144, 255), 2, false)
local speedHackBtn = createModernButton("SpeedHack", movementGrid, "‚ö° Speed Hack: OFF", Color3.fromRGB(255, 140, 0), 3, false)
local infiniteStaminaBtn = createModernButton("InfiniteStamina", movementGrid, "üí™ Infinite Stamina: OFF", Color3.fromRGB(220, 20, 60), 4, false)
local jumpBoostBtn = createModernButton("JumpBoost", movementGrid, "ü¶ò Jump Boost: OFF", Color3.fromRGB(138, 43, 226), 5, false)

-- Create Teleport Buttons
local baseCampBtn = createModernButton("BaseCamp", teleportGrid, "üèïÔ∏è Base Camp", Color3.fromRGB(46, 125, 50), 1, false)
local checkpoint1Btn = createModernButton("Checkpoint1", teleportGrid, "üìç Checkpoint 1", Color3.fromRGB(33, 150, 243), 2, false)
local checkpoint2Btn = createModernButton("Checkpoint2", teleportGrid, "üìç Checkpoint 2", Color3.fromRGB(33, 150, 243), 3, false)
local summitBtn = createModernButton("Summit", teleportGrid, "üèîÔ∏è Summit", Color3.fromRGB(255, 193, 7), 4, false)
local safeZoneBtn = createModernButton("SafeZone", teleportGrid, "üõ°Ô∏è Safe Zone", Color3.fromRGB(76, 175, 80), 5, false)

-- Create Utility Buttons
local autoCollectBtn = createModernButton("AutoCollect", utilityGrid, "üéí Auto Collect: OFF", Color3.fromRGB(156, 39, 176), 1, false)
local autoQuestBtn = createModernButton("AutoQuest", utilityGrid, "üìã Auto Quest: OFF", Color3.fromRGB(255, 87, 34), 2, false)
local weatherControlBtn = createModernButton("WeatherControl", utilityGrid, "üå§Ô∏è Weather Control", Color3.fromRGB(3, 169, 244), 3, false)
local equipmentBtn = createModernButton("Equipment", utilityGrid, "üéí Get Equipment", Color3.fromRGB(121, 85, 72), 4, false)
local healBtn = createModernButton("Heal", utilityGrid, "‚ù§Ô∏è Full Heal", Color3.fromRGB(244, 67, 54), 5, false)

-- Create Visual Buttons
local espBtn = createModernButton("ESP", visualGrid, "üëÅÔ∏è ESP: OFF", Color3.fromRGB(233, 30, 99), 1, false)
local fullbrightBtn = createModernButton("Fullbright", visualGrid, "üí° Fullbright: OFF", Color3.fromRGB(255, 235, 59), 2, false)

-- CREATE ADMIN BUTTONS
-- Admin Controls
local godModeBtn = createModernButton("GodMode", adminControlGrid, "üõ°Ô∏è God Mode: OFF", Color3.fromRGB(255, 0, 0), 1, true)
local noclipBtn = createModernButton("Noclip", adminControlGrid, "üëª Noclip: OFF", Color3.fromRGB(138, 43, 226), 2, true)
local invisibleBtn = createModernButton("Invisible", adminControlGrid, "ü´• Invisible: OFF", Color3.fromRGB(100, 100, 100), 3, true)
local infiniteYieldBtn = createModernButton("InfiniteYield", adminControlGrid, "üîß Infinite Yield", Color3.fromRGB(255, 87, 34), 4, true)
local cmdXBtn = createModernButton("CmdX", adminControlGrid, "‚å®Ô∏è CMD-X", Color3.fromRGB(0, 150, 255), 5, true)

-- Player Management
local teleportToPlayerBtn = createModernButton("TeleportToPlayer", playerManagementGrid, "üìç TP to Player", Color3.fromRGB(33, 150, 243), 1, true)
local bringPlayerBtn = createModernButton("BringPlayer", playerManagementGrid, "üîÑ Bring Player", Color3.fromRGB(76, 175, 80), 2, true)
local kickPlayerBtn = createModernButton("KickPlayer", playerManagementGrid, "üë¢ Kick Player", Color3.fromRGB(255, 152, 0), 3, true)
local banPlayerBtn = createModernButton("BanPlayer", playerManagementGrid, "üö´ Ban Player", Color3.fromRGB(244, 67, 54), 4, true)
local viewPlayerBtn = createModernButton("ViewPlayer", playerManagementGrid, "üëÅÔ∏è View Player", Color3.fromRGB(156, 39, 176), 5, true)

-- Server Controls
local shutdownServerBtn = createModernButton("ShutdownServer", serverControlGrid, "üî¥ Shutdown Server", Color3.fromRGB(244, 67, 54), 1, true)
local messageAllBtn = createModernButton("MessageAll", serverControlGrid, "üì¢ Message All", Color3.fromRGB(33, 150, 243), 2, true)
local lagServerBtn = createModernButton("LagServer", serverControlGrid, "üêå Lag Server", Color3.fromRGB(255, 152, 0), 3, true)
local crashServerBtn = createModernButton("CrashServer", serverControlGrid, "üí• Crash Server", Color3.fromRGB(139, 69, 19), 4, true)
local antiKickBtn = createModernButton("AntiKick", serverControlGrid, "üõ°Ô∏è Anti-Kick: OFF", Color3.fromRGB(76, 175, 80), 5, true)

-- Advanced Features
local timeManipulationBtn = createModernButton("TimeManipulation", advancedGrid, "‚è∞ Time Control", Color3.fromRGB(255, 193, 7), 1, true)
local gravityControlBtn = createModernButton("GravityControl", advancedGrid, "üåç Gravity Control", Color3.fromRGB(138, 43, 226), 2, true)
local advancedESPBtn = createModernButton("AdvancedESP", advancedGrid, "üîç Advanced ESP: OFF", Color3.fromRGB(233, 30, 99), 3, true)
local scriptExecutorBtn = createModernButton("ScriptExecutor", advancedGrid, "üìù Script Executor", Color3.fromRGB(0, 150, 255), 4, true)
local gameModifierBtn = createModernButton("GameModifier", advancedGrid, "üéÆ Game Modifier", Color3.fromRGB(255, 87, 34), 5, true)

-- Status Display
statusGrid:FindFirstChild("UIGridLayout"):Destroy()

local statusFrame = Instance.new("Frame")
statusFrame.Name = "StatusFrame"
statusFrame.Parent = statusGrid
statusFrame.BackgroundColor3 = Color3.fromRGB(35, 45, 65)
statusFrame.BorderSizePixel = 0
statusFrame.Position = UDim2.new(0, 0, 0, 0)
statusFrame.Size = UDim2.new(1, 0, 1, 0)

local statusCorner = Instance.new("UICorner")
statusCorner.CornerRadius = UDim.new(0, 8)
statusCorner.Parent = statusFrame

local statusLabel = Instance.new("TextLabel")
statusLabel.Name = "StatusLabel"
statusLabel.Parent = statusFrame
statusLabel.BackgroundTransparency = 1
statusLabel.Position = UDim2.new(0, 15, 0, 10)
statusLabel.Size = UDim2.new(1, -30, 0, 25)
statusLabel.Font = Enum.Font.GothamSemibold
statusLabel.Text = "üèîÔ∏è Ready for mountain climbing adventure!"
statusLabel.TextColor3 = Color3.fromRGB(100, 255, 150)
statusLabel.TextSize = 12
statusLabel.TextXAlignment = Enum.TextXAlignment.Center

local infoLabel = Instance.new("TextLabel")
infoLabel.Name = "InfoLabel"
infoLabel.Parent = statusFrame
infoLabel.BackgroundTransparency = 1
infoLabel.Position = UDim2.new(0, 15, 0, 35)
infoLabel.Size = UDim2.new(1, -30, 0, 20)
infoLabel.Font = Enum.Font.Gotham
infoLabel.Text = "Altitude: 0m | Stamina: 100% | Weather: Clear"
infoLabel.TextColor3 = Color3.fromRGB(200, 220, 240)
infoLabel.TextSize = 10
infoLabel.TextXAlignment = Enum.TextXAlignment.Center

-- Minimized Frame
MinimizedFrame.Name = "MinimizedFrame"
MinimizedFrame.Parent = ScreenGui
MinimizedFrame.BackgroundColor3 = Color3.fromRGB(25, 40, 55)
MinimizedFrame.BorderSizePixel = 0
MinimizedFrame.Position = UDim2.new(0, 15, 0.5, -25)
MinimizedFrame.Size = UDim2.new(0, 200, 0, 60)
MinimizedFrame.Visible = false
MinimizedFrame.Active = true

local minFrameGradient = Instance.new("UIGradient")
minFrameGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 45, 60)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 35, 50))
}
minFrameGradient.Rotation = 45
minFrameGradient.Parent = MinimizedFrame

local minFrameCorner = Instance.new("UICorner")
minFrameCorner.CornerRadius = UDim.new(0, 12)
minFrameCorner.Parent = MinimizedFrame

RestoreButton.Name = "RestoreButton"
RestoreButton.Parent = MinimizedFrame
RestoreButton.BackgroundTransparency = 1
RestoreButton.Size = UDim2.new(1, 0, 1, 0)
RestoreButton.Font = Enum.Font.GothamSemibold
RestoreButton.Text = "üèîÔ∏è Mount Merbabu GUI\nüëë ADMIN MODE\nClick to Restore"
RestoreButton.TextColor3 = Color3.fromRGB(255, 255, 255)
RestoreButton.TextSize = 11

makeDraggable(MinimizedFrame)

-- Teleport Locations
local teleportLocations = {
    BaseCamp = Vector3.new(0, 10, 0),
    Checkpoint1 = Vector3.new(100, 50, 100),
    Checkpoint2 = Vector3.new(200, 100, 200),
    Summit = Vector3.new(300, 200, 300),
    SafeZone = Vector3.new(-50, 5, -50)
}

-- ADMIN FUNCTIONS
local function toggleAdminMode()
    adminModeEnabled = not adminModeEnabled
    
    if adminModeEnabled then
        AdminToggleButton.BackgroundColor3 = Color3.fromRGB(46, 125, 50)
        AdminIndicator.Text = "üëë ADMIN MODE"
        AdminIndicator.TextColor3 = Color3.fromRGB(255, 100, 100)
        statusLabel.Text = "üëë ADMIN MODE ACTIVATED - Full Access Granted!"
        statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        
        -- Show admin sections
        adminControlSection.Visible = true
        playerManagementSection.Visible = true
        serverControlSection.Visible = true
        advancedSection.Visible = true
        
        -- Update canvas size for admin sections
        ContentFrame.CanvasSize = UDim2.new(0, 0, 0, 1600)
        
        -- Change title color
        TitleLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        SubTitle.Text = "v1.1 ‚Ä¢ Admin/Developer Edition ‚Ä¢ ADMIN ACTIVE"
        
    else
        AdminToggleButton.BackgroundColor3 = Color3.fromRGB(255, 87, 34)
        AdminIndicator.Text = "üë§ USER MODE"
        AdminIndicator.TextColor3 = Color3.fromRGB(100, 200, 255)
        statusLabel.Text = "üèîÔ∏è Ready for mountain climbing adventure!"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 150)
        
        -- Hide admin sections
        adminControlSection.Visible = false
        playerManagementSection.Visible = false
        serverControlSection.Visible = false
        advancedSection.Visible = false
        
        -- Reset canvas size
        ContentFrame.CanvasSize = UDim2.new(0, 0, 0, 1200)
        
        -- Reset title color
        TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        SubTitle.Text = "v1.1 ‚Ä¢ Admin/Developer Edition"
    end
end

local function toggleGodMode()
    godModeEnabled = not godModeEnabled
    
    if godModeEnabled then
        godModeBtn.Text = "üõ°Ô∏è God Mode: ON"
        godModeBtn.BackgroundColor3 = Color3.fromRGB(46, 125, 50)
        statusLabel.Text = "üõ°Ô∏è God Mode activated - You are invincible!"
        statusLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
        
        godModeConnection = RunService.Heartbeat:Connect(function()
            updateCharacterReferences()
            if Humanoid and godModeEnabled then
                Humanoid.Health = Humanoid.MaxHealth
                Humanoid.PlatformStand = false
                
                -- Remove all debuffs
                for _, effect in pairs(Humanoid:GetChildren()) do
                    if effect:IsA("NumberValue") or effect:IsA("StringValue") then
                        if effect.Name:lower():find("poison") or effect.Name:lower():find("slow") or effect.Name:lower():find("stun") then
                            effect:Destroy()
                        end
                    end
                end
            end
        end)
    else
        godModeBtn.Text = "üõ°Ô∏è God Mode: OFF"
        godModeBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        statusLabel.Text = "üõ°Ô∏è God Mode deactivated"
        statusLabel.TextColor3 = Color3.fromRGB(255, 150, 100)
        
        if godModeConnection then
            godModeConnection:Disconnect()
            godModeConnection = nil
        end
    end
end

local function toggleNoclip()
    noclipEnabled = not noclipEnabled
    
    if noclipEnabled then
        noclipBtn.Text = "üëª Noclip: ON"
        noclipBtn.BackgroundColor3 = Color3.fromRGB(46, 125, 50)
        statusLabel.Text = "üëª Noclip activated - Walk through walls!"
        statusLabel.TextColor3 = Color3.fromRGB(200, 100, 255)
        
        noclipConnection = RunService.Stepped:Connect(function()
            updateCharacterReferences()
            if Character and noclipEnabled then
                for _, part in pairs(Character:GetChildren()) do
                    if part:IsA("BasePart") and part.CanCollide then
                        part.CanCollide = false
                    end
                end
            end
        end)
    else
        noclipBtn.Text = "üëª Noclip: OFF"
        noclipBtn.BackgroundColor3 = Color3.fromRGB(138, 43, 226)
        statusLabel.Text = "üëª Noclip deactivated"
        statusLabel.TextColor3 = Color3.fromRGB(255, 150, 100)
        
        if noclipConnection then
            noclipConnection:Disconnect()
            noclipConnection = nil
        end
        
        updateCharacterReferences()
        if Character then
            for _, part in pairs(Character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end

local function toggleInvisible()
    invisibleModeEnabled = not invisibleModeEnabled
    
    updateCharacterReferences()
    if invisibleModeEnabled then
        invisibleBtn.Text = "ü´• Invisible: ON"
        invisibleBtn.BackgroundColor3 = Color3.fromRGB(46, 125, 50)
        statusLabel.Text = "ü´• Invisible mode activated!"
        statusLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
        
        if Character then
            for _, part in pairs(Character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.Transparency = 1
                elseif part:IsA("Accessory") then
                    for _, accessoryPart in pairs(part:GetChildren()) do
                        if accessoryPart:IsA("BasePart") then
                            accessoryPart.Transparency = 1
                        end
                    end
                end
            end
        end
    else
        invisibleBtn.Text = "ü´• Invisible: OFF"
        invisibleBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
        statusLabel.Text = "ü´• Invisible mode deactivated"
        statusLabel.TextColor3 = Color3.fromRGB(255, 150, 100)
        
        if Character then
            for _, part in pairs(Character:GetChildren()) do
                if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                    part.Transparency = 0
                elseif part:IsA("Accessory") then
                    for _, accessoryPart in pairs(part:GetChildren()) do
                        if accessoryPart:IsA("BasePart") then
                            accessoryPart.Transparency = 0
                        end
                    end
                end
            end
        end
    end
end

local function loadInfiniteYield()
    statusLabel.Text = "üîß Loading Infinite Yield..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
    
    pcall(function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
        statusLabel.Text = "üîß Infinite Yield loaded successfully!"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end)
end

local function loadCmdX()
    statusLabel.Text = "‚å®Ô∏è Loading CMD-X..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
    
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/CMD-X/CMD-X/master/Source", true))()
        statusLabel.Text = "‚å®Ô∏è CMD-X loaded successfully!"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end)
end

-- Player Management Functions
local function createPlayerSelector(callback)
    local playerList = {}
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            table.insert(playerList, player.Name)
        end
    end
    
    if #playerList > 0 then
        -- For simplicity, use the first player. In a real implementation, you'd create a dropdown
        local targetPlayer = Players:FindFirstChild(playerList[1])
        if targetPlayer then
            callback(targetPlayer)
        end
    else
        statusLabel.Text = "‚ùå No other players found!"
        statusLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
    end
end

local function teleportToPlayer()
    createPlayerSelector(function(targetPlayer)
        if targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            updateCharacterReferences()
            if RootPart then
                RootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
                statusLabel.Text = "üìç Teleported to " .. targetPlayer.Name
                statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            end
        end
    end)
end

local function bringPlayer()
    createPlayerSelector(function(targetPlayer)
        if targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            updateCharacterReferences()
            if RootPart then
                targetPlayer.Character.HumanoidRootPart.CFrame = RootPart.CFrame
                statusLabel.Text = "üîÑ Brought " .. targetPlayer.Name .. " to you"
                statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            end
        end
    end)
end

-- Server Control Functions
local function messageAllPlayers()
    local message = "üèîÔ∏è Admin Message: Welcome to Mount Merbabu!"
    
    for _, player in pairs(Players:GetPlayers()) do
        pcall(function()
            local gui = Instance.new("ScreenGui")
            gui.Name = "AdminMessage"
            gui.Parent = player:WaitForChild("PlayerGui")
            
            local frame = Instance.new("Frame")
            frame.Size = UDim2.new(0, 400, 0, 100)
            frame.Position = UDim2.new(0.5, -200, 0.5, -50)
            frame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
            frame.Parent = gui
            
            local label = Instance.new("TextLabel")
            label.Size = UDim2.new(1, 0, 1, 0)
            label.BackgroundTransparency = 1
            label.Text = message
            label.TextColor3 = Color3.fromRGB(255, 255, 255)
            label.TextScaled = true
            label.Font = Enum.Font.GothamBold
            label.Parent = frame
            
            wait(5)
            gui:Destroy()
        end)
    end
    
    statusLabel.Text = "üì¢ Message sent to all players!"
    statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
end

-- Helper Functions (keeping existing ones and adding new)
local function updateCharacterReferences()
    Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    if Character then
        Humanoid = Character:WaitForChild("Humanoid")
        RootPart = Character:WaitForChild("HumanoidRootPart")
    end
end

local function teleportTo(position)
    updateCharacterReferences()
    if RootPart then
        RootPart.CFrame = CFrame.new(position)
        statusLabel.Text = "üìç Teleported successfully!"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    end
end

-- [Previous functions remain the same: toggleAutoClimb, toggleFlyMode, toggleSpeedHack, etc.]
-- [I'll include the essential ones for brevity]

local function toggleAutoClimb()
    autoClimbEnabled = not autoClimbEnabled
    
    if autoClimbEnabled then
        autoClimbBtn.Text = "üßó Auto Climb: ON"
        autoClimbBtn.BackgroundColor3 = Color3.fromRGB(46, 125, 50)
        statusLabel.Text = "üßó Auto climb activated!"
        statusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        
        autoClimbConnection = RunService.Heartbeat:Connect(function()
            updateCharacterReferences()
            if Humanoid and autoClimbEnabled then
                Humanoid.WalkSpeed = climbSpeed
                local raycast = workspace:Raycast(RootPart.Position, Vector3.new(0, 10, 0))
                if raycast and raycast.Instance then
                    Humanoid:MoveTo(RootPart.Position + Vector3.new(0, 2, 0))
                end
            end
        end)
    else
        autoClimbBtn.Text = "üßó Auto Climb: OFF"
        autoClimbBtn.BackgroundColor3 = Color3.fromRGB(34, 139, 34)
        statusLabel.Text = "üßó Auto climb deactivated"
        statusLabel.TextColor3 = Color3.fromRGB(255, 150, 100)
        
        if autoClimbConnection then
            autoClimbConnection:Disconnect()
            autoClimbConnection = nil
        end
        
        updateCharacterReferences()
        if Humanoid then
            Humanoid.WalkSpeed = originalWalkSpeed
        end
    end
end

-- Update info display
spawn(function()
    while true do
        updateCharacterReferences()
        if RootPart then
            local altitude = math.floor(RootPart.Position.Y)
            local stamina = "100%"
            local weather = "Clear"
            local mode = adminModeEnabled and "ADMIN" or "USER"
            
            pcall(function()
                if LocalPlayer:FindFirstChild("leaderstats") and LocalPlayer.leaderstats:FindFirstChild("Stamina") then
                    stamina = LocalPlayer.leaderstats.Stamina.Value .. "%"
                end
            end)
            
            infoLabel.Text = "Mode: " .. mode .. " | Altitude: " .. altitude .. "m | Stamina: " .. stamina
        end
        wait(1)
    end
end)

-- Event Connections
MinimizeButton.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    MainShadow.Visible = false
    MinimizedFrame.Visible = true
end)

RestoreButton.MouseButton1Click:Connect(function()
    MinimizedFrame.Visible = false
    MainFrame.Visible = true
    MainShadow.Visible = true
end)

CloseButton.MouseButton1Click:Connect(function()
    -- Clean up all connections
    if flyConnection then flyConnection:Disconnect() end
    if autoClimbConnection then autoClimbConnection:Disconnect() end
    if autoCollectConnection then autoCollectConnection:Disconnect() end
    if staminaConnection then staminaConnection:Disconnect() end
    if noclipConnection then noclipConnection:Disconnect() end
    if godModeConnection then godModeConnection:Disconnect() end
    
    ScreenGui:Destroy()
end)

-- Admin Toggle
AdminToggleButton.MouseButton1Click:Connect(toggleAdminMode)

-- Regular Button Events (keeping existing ones)
autoClimbBtn.MouseButton1Click:Connect(toggleAutoClimb)

-- Teleport Events
baseCampBtn.MouseButton1Click:Connect(function() teleportTo(teleportLocations.BaseCamp) end)
checkpoint1Btn.MouseButton1Click:Connect(function() teleportTo(teleportLocations.Checkpoint1) end)
checkpoint2Btn.MouseButton1Click:Connect(function() teleportTo(teleportLocations.Checkpoint2) end)
summitBtn.MouseButton1Click:Connect(function() teleportTo(teleportLocations.Summit) end)
safeZoneBtn.MouseButton1Click:Connect(function() teleportTo(teleportLocations.SafeZone) end)

-- ADMIN BUTTON EVENTS
godModeBtn.MouseButton1Click:Connect(toggleGodMode)
noclipBtn.MouseButton1Click:Connect(toggleNoclip)
invisibleBtn.MouseButton1Click:Connect(toggleInvisible)
infiniteYieldBtn.MouseButton1Click:Connect(loadInfiniteYield)
cmdXBtn.MouseButton1Click:Connect(loadCmdX)

-- Player Management Events
teleportToPlayerBtn.MouseButton1Click:Connect(teleportToPlayer)
bringPlayerBtn.MouseButton1Click:Connect(bringPlayer)

kickPlayerBtn.MouseButton1Click:Connect(function()
    createPlayerSelector(function(targetPlayer)
        pcall(function()
            targetPlayer:Kick("üë¢ Kicked by Admin")
            statusLabel.Text = "üë¢ " .. targetPlayer.Name .. " has been kicked!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 152, 0)
        end)
    end)
end)

-- Server Control Events
messageAllBtn.MouseButton1Click:Connect(messageAllPlayers)

shutdownServerBtn.MouseButton1Click:Connect(function()
    statusLabel.Text = "üî¥ Initiating server shutdown..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
    
    pcall(function()
        for _, player in pairs(Players:GetPlayers()) do
            player:Kick("üî¥ Server shutdown by Admin")
        end
    end)
end)

-- Advanced Features Events
timeManipulationBtn.MouseButton1Click:Connect(function()
    timeManipulationEnabled = not timeManipulationEnabled
    
    if timeManipulationEnabled then
        timeManipulationBtn.Text = "‚è∞ Time Control: ON"
        timeManipulationBtn.BackgroundColor3 = Color3.fromRGB(46, 125, 50)
        statusLabel.Text = "‚è∞ Time manipulation activated!"
        statusLabel.TextColor3 = Color3.fromRGB(255, 215, 0)
        
        -- Freeze time
        Lighting.ClockTime = 12
        Lighting.TimeOfDay = "12:00:00"
    else
        timeManipulationBtn.Text = "‚è∞ Time Control: OFF"
        timeManipulationBtn.BackgroundColor3 = Color3.fromRGB(255, 193, 7)
        statusLabel.Text = "‚è∞ Time manipulation deactivated"
        statusLabel.TextColor3 = Color3.fromRGB(255, 150, 100)
    end
end)

gravityControlBtn.MouseButton1Click:Connect(function()
    pcall(function()
        if Workspace.Gravity == 196.2 then
            Workspace.Gravity = 50
            statusLabel.Text = "üåç Low gravity activated!"
            statusLabel.TextColor3 = Color3.fromRGB(138, 43, 226)
        else
            Workspace.Gravity = 196.2
            statusLabel.Text = "üåç Normal gravity restored"
            statusLabel.TextColor3 = Color3.fromRGB(255, 150, 100)
        end
    end)
end)

-- Character respawn handling
LocalPlayer.CharacterAdded:Connect(function(newCharacter)
    Character = newCharacter
    Humanoid = Character:WaitForChild("Humanoid")
    RootPart = Character:WaitForChild("HumanoidRootPart")
    
    -- Reapply admin features if enabled
    if speedHackEnabled then
        Humanoid.WalkSpeed = 50
    end
    
    if invisibleModeEnabled then
        wait(1) -- Wait for character to fully load
        for _, part in pairs(Character:GetChildren()) do
            if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                part.Transparency = 1
            end
        end
    end
end)

print("üèîÔ∏è Mount Merbabu GUI v1.1 - ADMIN EDITION loaded successfully!")
print("‚ú® REGULAR FEATURES:")
print("   - üßó Auto Climb System")
print("   - ‚úàÔ∏è Fly Mode with WASD controls")
print("   - ‚ö° Speed Hack & Jump Boost")
print("   - üìç Teleport to key locations")
print("   - üéí Auto Collect items")
print("   - üí™ Infinite Stamina")
print("   - üëÅÔ∏è ESP for players")
print("   - üå§Ô∏è Weather Control")
print("")
print("üëë ADMIN FEATURES:")
print("   - üõ°Ô∏è God Mode (Invincibility)")
print("   - üëª Noclip (Walk through walls)")
print("   - ü´• Invisible Mode")
print("   - üìç Advanced Player Teleportation")
print("   - üë¢ Kick/Ban Players")
print("   - üì¢ Server-wide Messages")
print("   - üî¥ Server Control (Shutdown/Crash)")
print("   - ‚è∞ Time Manipulation")
print("   - üåç Gravity Control")
print("   - üîß Infinite Yield Integration")
print("   - ‚å®Ô∏è CMD-X Integration")
print("")
print("üîë Click the üëë button to toggle ADMIN MODE!")
print("üèîÔ∏è Ready for your enhanced mountain climbing adventure!")
